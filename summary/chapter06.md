질문리스트 

#### 6. 레디스를 메시지 브로커로 사용하기

마이크로서비스에서는 비동기 통신이 권장되는 이유는 무엇인가?
메시지 브로커는 OOO과 OOO으로 나눌 수 있는가?

##### 메시징 큐와 이벤트 스트림

- 생산자란(producer) vs 발행자란(publisher)
- 소비자란(consumer) vs 구독자란(subscriber)

메시징 큐와 이벤트 스트림의 2가지 차이점은? 
1. 방향성: 
2. 영속성:

메시징 큐와 이벤트 스트림은 각각 어느 상황에서 사용하는게 좋은가?

##### 레디스를 메시지 브로커로 사용하기

레디스에서 제공하는 pub/sub을 사용하면 빠르고 간단한 방식으로 메시지를 전달할 수 있는 메세지 브로커를 만들 수 있다.
메시지 브로커는 특정 채널에 메시지를 전송하면 채널을 구독하고있는 모든 소비자에게 데이터를 바로 소비할 수 있다.
- 메시지 브로커에 메세지는 채널 전체제 전파된 뒤에 메세지가 삭제되는가? 
- 완벽하게 메시지가 잘 전달되었는지 보장하는가?
- fire-and-forget 패턴은 무엇인가? 
  - 어떤 작업에서 사용사용하기에 적합한가?

메시지 큐 
- 어떤 자료구조를 사용하면 메시지 큐로 사용하기에 알맞는가?

스트림
- 어디서 영감받아서 만들어진 자료구조인가?
- append-only방식으로 동작하는데 append-only 방식은 무엇인가?
- stream에 저장되는 메시지를 실시간으로 리스닝하며 소비할 수 있는가?
- 저장되있는 데이터를 시간대별로 검색하며 조회할 수 있는가?

##### 레디스의 pub/sub

- 레디스 노드에 접근하는 클라이언트는 발행자 및 구독자가 될 수 있는가?
- 메세지를 읽는 구독자가 누구 인지 알 수 있는가?
- 한번 전파된 데이터는 레디스에 저장되지 않는가? 
- 정합성이 중요한 데이터를 레디스 pub/sub으로 메세지를 전송하는것이 좋은가? 이유는?

###### 메시지 publish하기

- `PUBLICSH channel message`명령어는 무엇인가?
- `subscribe envet1 event2`명령어는 무엇인가?
- 채널을 구독하기 시작하면 pub/sub 이외의 다른 명령어를 수행할 수 있는가?
- SUBSCRIBE, SSUBSCRIBE, SUNSUBSCRIBE, PSUBSCRIBE, UNSUBSCRIBE, PUNSUBSCRIBE, PING, RESET, QUIT 명령어는 무엇인가? 

###### 클러스터 구조에서의 pub/sub

- 클러스터란 무엇인가? 
- 클러스터는 왜 사용하는가? 
- 메세지를 발행하면 모든 클러스터에 메세지가 전달되는가?
- 클러스터의 pub/sub을 사용하면 클러스터의 핵심 목표와 부합하지 않는가? 왜그런가? 

###### sharded pub/sub

- sharded pub/sub은 왜 만들어졌는가?
- 메세지를 발행하면 모든 클러스터에 메세지가 전달되는가?
- sharded pub/sub의 장점은 무엇인가?
- SPUBLISH, SSUBSCRIBE는 무슨 명령어인가요? 

###### 레디스의 List를 메시징 큐로 사용하기

- 레디스의 list는 큐로 사용하기에 적절한 구조인가?
- list에는 tail과 head에서 데이터를 넣고 뺼 수 있는 LPUSH, LPOP, RPUSH, RPOP 명령어가 있는가?

##### list의 EX기능

```
요구사항
1. A user가 게시물을 올리면 B user의 타임라인에 게시물을 확인할 수 있어야한다.
```
- RPUSHX 명령어는 무엇인가?
- RPUSHX 명령어를 통해서 B user 타임라인 리스트에 타임라인캐시를 추가하는 이유는 무엇인가? 
